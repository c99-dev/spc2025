<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>회원가입 폼</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
  </head>
  <body class="bg-light">
    <div class="container my-5">
      <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
          <div class="bg-white p-4 rounded shadow-sm">
            <h3 class="text-center mb-4 text-primary">
              <i class="bi bi-person-plus me-2"></i>회원가입
            </h3>

            <form id="exampleForm" class="needs-validation" novalidate>
              <!-- 사용자명 -->
              <div class="mb-3">
                <label for="userId" class="form-label fw-bold">아이디</label>
                <div class="input-group">
                  <span class="input-group-text"
                    ><i class="bi bi-person"></i
                  ></span>
                  <input
                    type="text"
                    id="userId"
                    name="userId"
                    class="form-control"
                    placeholder="3~10글자로 입력하세요"
                    required
                    minlength="3"
                    maxlength="10"
                  />
                  <div class="invalid-feedback">
                    아이디는 3~10글자로 입력해주세요.
                  </div>
                </div>
              </div>

              <!-- 비밀번호 -->
              <div class="mb-3">
                <label for="password" class="form-label fw-bold"
                  >비밀번호</label
                >
                <div class="input-group">
                  <span class="input-group-text"
                    ><i class="bi bi-lock"></i
                  ></span>
                  <input
                    type="password"
                    id="password"
                    name="password"
                    class="form-control"
                    placeholder="대소문자, 숫자/특수문자 포함 8자 이상"
                    required
                    pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d|\W).{8,}$"
                  />
                  <div class="invalid-feedback">
                    비밀번호는 대소문자, 숫자/특수문자 포함 8자 이상이어야
                    합니다.
                  </div>
                </div>
              </div>

              <!-- 이름 -->
              <div class="mb-3">
                <label for="name" class="form-label fw-bold">이름</label>
                <div class="input-group">
                  <span class="input-group-text"
                    ><i class="bi bi-person-badge"></i
                  ></span>
                  <input
                    type="text"
                    id="name"
                    name="name"
                    class="form-control"
                    placeholder="1~10글자로 입력하세요"
                    required
                    maxlength="10"
                  />
                  <div class="invalid-feedback">
                    이름을 1~10글자로 입력해주세요.
                  </div>
                </div>
              </div>

              <!-- 생년월일 -->
              <div class="mb-3">
                <label for="birth" class="form-label fw-bold">생년월일</label>
                <div class="input-group">
                  <span class="input-group-text"
                    ><i class="bi bi-calendar"></i
                  ></span>
                  <input
                    type="date"
                    id="birth"
                    name="birth"
                    class="form-control"
                    required
                  />
                  <div class="invalid-feedback">생년월일을 선택해주세요.</div>
                </div>
              </div>

              <!-- 관심 분야 -->
              <div class="mb-4">
                <label class="form-label fw-bold"
                  >관심 분야 (최소 1개, 최대3개 선택)</label
                >
                <div class="row row-cols-1 row-cols-md-2 g-3">
                  <div class="col">
                    <div class="form-check border rounded p-3">
                      <input
                        type="checkbox"
                        id="web"
                        name="interest"
                        value="web"
                        class="form-check-input"
                      />
                      <label for="web" class="form-check-label">웹 개발</label>
                    </div>
                  </div>
                  <div class="col">
                    <div class="form-check border rounded p-3">
                      <input
                        type="checkbox"
                        id="mobile"
                        name="interest"
                        value="mobile"
                        class="form-check-input"
                      />
                      <label for="mobile" class="form-check-label"
                        >모바일 개발</label
                      >
                    </div>
                  </div>
                  <div class="col">
                    <div class="form-check border rounded p-3">
                      <input
                        type="checkbox"
                        id="data"
                        name="interest"
                        value="data"
                        class="form-check-input"
                      />
                      <label for="data" class="form-check-label"
                        >데이터 과학</label
                      >
                    </div>
                  </div>
                  <div class="col">
                    <div class="form-check border rounded p-3">
                      <input
                        type="checkbox"
                        id="ai"
                        name="interest"
                        value="ai"
                        class="form-check-input"
                      />
                      <label for="ai" class="form-check-label">인공지능</label>
                    </div>
                  </div>
                </div>
                <div
                  class="invalid-feedback"
                  id="interestFeedback"
                  style="display: none"
                >
                  관심 분야를 1개 이상 3개 이하로 선택해주세요.
                </div>
              </div>

              <!-- 제출 버튼 -->
              <div class="d-grid gap-2">
                <button type="submit" class="btn btn-primary btn-lg">
                  <i class="bi bi-check-circle me-2"></i>가입하기
                </button>
              </div>
            </form>
          </div>

          <!-- 결과 표시 영역 -->
          <div
            id="result"
            class="alert alert-success mt-4"
            style="display: none"
          >
            <h4 class="alert-heading">가입 정보</h4>
            <div id="resultContent"></div>
          </div>
        </div>
      </div>
    </div>

    <script>
      const form = document.getElementById('exampleForm');
      const resultDiv = document.getElementById('result');
      const resultContent = document.getElementById('resultContent');
      const interestCheckboxes = document.querySelectorAll(
        'input[name="interest"]'
      );
      const interestFeedback = document.getElementById('interestFeedback');

      // 폼 유효성 검증
      form.addEventListener('submit', (event) => {
        event.preventDefault();

        // 관심 분야 체크 개수 확인 (1개 이상 3개 이하)
        const checkedInterests = document.querySelectorAll(
          'input[name="interest"]:checked'
        );
        if (checkedInterests.length < 1 || checkedInterests.length > 3) {
          interestFeedback.style.display = 'block';
          return;
        } else {
          interestFeedback.style.display = 'none';
        }

        // 폼 유효성 검사
        if (!form.checkValidity()) {
          event.stopPropagation();
          form.classList.add('was-validated');
          return;
        }

        // 폼 데이터 가져오기
        const formData = new FormData(form);
        const id = formData.get('userId');
        const password = formData.get('password');
        const name = formData.get('name');
        const birth = formData.get('birth');
        const interests = formData.getAll('interest');

        // 결과 표시
        resultContent.innerHTML = `
          <p><strong>아이디:</strong> ${id}</p>
          <p><strong>비밀번호:</strong> ${password}</p>
          <p><strong>이름:</strong> ${name}</p>
          <p><strong>생년월일:</strong> ${birth}</p>
          <p><strong>관심 분야:</strong> ${interests.join(', ')}</p>
        `;
        resultDiv.style.display = 'block';

        // 콘솔에도 표시
        console.log('User ID:', id);
        console.log('Password:', password);
        console.log('Name:', name);
        console.log('Birth:', birth);
        console.log('Interests:', interests);
      });
    </script>
  </body>
</html>
